# Краткое описание проекта
Данный проект включает в себя 2 части: <br><br>
Часть 1. Разработка модели для предсказания риска сердечного приступа.<br><br>
Часть 2. Интерфейс (скрипт) для модели на FastApi, который принимает на вход путь к csv файлу и на основании модели, разработанной в пункте 1, делает предсказание и возвращает ответ в формате JSON.<br>

# Часть 1
Этапы разработки модели (изучение данных, исследовательский анализ, разработка модели) содержаться в тетрадrе jupyter: *project_heartrisk.ipynb*.

# Часть 2 
1. Для запуска интерфейса и выполнения предсказания необходимы следующие файлы:
   - Файл *best_model.joblib*, который содержит разработанную модель.
   - Файл *data_preprocessor.joblib*, который содержит предобработчик данных.
   - Файл *encoder.py*, в котором содержаться необходимые классы для работы предобработчика.
   - Файл *main.py*, который является основной программой.
   - Файл *requirements.txt*, в котором содержаться необходимые настройки окружения (библиотеки).
   - Директория */predictions*, в которую сохраняются результаты предсказаний.
   - Директория */templates*, в которой хранится шаблон корневой страницы.<br>
Проект выполнен на python 3.13.<br>
2. FastApi сервис запускается по адресу *0.0.0.0:8000* с помощью выполнения файла *main.py*.<br> 
3. Доступны следующие функции:
   - Передать файл csv через ручку */predict* или через корневую страницу приложения. В ответ приложение сделает предсказание, сохранит результат в формате csv в директории */predictions* и даст ответ в формате JSON. Ответ содержит сообщение о статусе, сгенерированный url на скачивание предсказаний в формате csv и список предсказаний в формате словаря.
   - Загрузить файл с ранее сделанным предсказанием через ручку */predict/download*. Для загрузки необходимо использовать url, сгенерированный на предыдущем шаге.
   - Также в любой момент можно инициировать базу данных через ручку */setup_database*. После инициации в директории создается база данных predictions.db, в которой сохраняется имя загруженного файла, время загрузки и ссылка на скачивание предсказаний в формате csv.
